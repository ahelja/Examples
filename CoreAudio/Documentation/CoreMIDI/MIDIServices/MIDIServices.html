<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/1998/REC-html40-19980424/loose.dtd">
<html>
<head>
<title>API Documentation</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<style type="text/css"><!--a:link {text-decoration: none; font-family: lucida grande, geneva, helvetica, arial, sans-serif; font-size: small; color: #0000ff;}a:visited {text-decoration: none; font-family: lucida grande, geneva, helvetica, arial, sans-serif; font-size: small; color: #0000ff;}a:visited:hover {text-decoration: underline; font-family: lucida grande, geneva, helvetica, arial, sans-serif; font-size: small; color: #ff6600;}a:active {text-decoration: none; font-family: lucida grande, geneva, helvetica, arial, sans-serif; font-size: small; color: #ff6600;}a:hover {text-decoration: underline; font-family: lucida grande, geneva, helvetica, arial, sans-serif; font-size: small; color: #ff6600;}h4 {text-decoration: none; font-family: lucida grande, geneva, helvetica, arial, sans-serif; font-size: tiny; font-weight: bold;}body {text-decoration: none; font-family: lucida grande, geneva, helvetica, arial, sans-serif; }--></style>
<meta name="generator" content="HeaderDoc">
</head>
<body bgcolor="#ffffff">
<h1>MIDIServices.h</h1>
<hr>
<p></p>
<b>Includes:</b><!-- a logicalPath="//apple_ref/doc/header/CoreServices.h" --><p>&lt;CoreServices/CoreServices.h&gt;<!-- /a -->,
<!-- a logicalPath="//apple_ref/doc/header/CoreFoundation.h" -->&lt;CoreFoundation/CoreFoundation.h&gt;<!-- /a -->,
<!-- a logicalPath="//apple_ref/doc/header/stddef.h" -->&lt;stddef.h&gt;<!-- /a --><br></p>
<p></p>
<hr>
<br><br><br><p>
This is the header file for Mac OS X's MIDI system services.
<br><br></p>
<h2>API Overview</h2>
<p>
Drivers own and control Devices, e.g. USB interfaces, PCI cards, etc.  A device is defined
as a physical object that would be represented by a single icon if there were a graphical
view of the studio.
<br><br>
Devices may have multiple logically distinct sub-components, e.g. a MIDI synthesizer and a
pair of MIDI ports, both addressable via a USB port. These are called Entities.
<br><br>
Entities have any number of Endpoints, sources and destinations of 16-channel MIDI streams. 
By grouping a device's endpoints into entities, the system has enough information for an
application to make reasonable default assumptions about how to communicate in a
bi-directional manner with each entity, as is necessary in MIDI librarian applications.
<br><br>
CoreMIDI attaches a collection of properties to each object it manages. Some properties are
dynamic characteristics of a device (e.g. MIDI receive channel and system-exclusive ID's),
and some are a matter of user preference (choice of icon, whether the device should appear
in lists of possible controllers). Other properties are static and could be looked up in a
database, using the device's manufacturer and model names as a key.
<br><br></p>
<h2>Implementation overview</h2>
<p>
The client API is implemented as the CoreMIDI framework, which uses IPC to communicate with
a server process, MIDIServer.
<br><br>
The server process loads, and manages all communication with, MIDI drivers. Most of its
implementation is in the CoreMIDIServer framework, which drivers may import in order to
access the API.
<br><br>
"Drivers" are not I/O Kit drivers.  They are bundles containing CFPlugins.
<br><br>
Many MIDI drivers can simply be user-side I/O Kit clients (probably for serial, USB,
Firewire).
<br><br>
PCI card drivers will need their MIDI drivers to communicate with a separate kernel
extension.
<br><br></p>
<h2>Note about CoreFoundation data types (CFString, CFData, CFDictionary)</h2>
<p>
When passing a CF object to a MIDI function, the MIDI function will never consume a
reference to the object; the caller always retains a reference which it is responsible for
releasing with CFRelease().
<br><br>
When receiving a CF object as a return value from a MIDI function, the caller always
receives a new reference to the object, and is responsible for releasing it.
<br><br></p>
<hr>
<br><center>(Last Updated February 25, 2005)
<br><font size="-1">HTML documentation generated by <a href="http://www.opensource.apple.com/projects" target="_blank">HeaderDoc</a></font>
</center>
</body>
</html>
